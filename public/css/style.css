/* Remove department-grid container styling */
.department-grid {
  background: none !important;
  box-shadow: none;
  border: none;
}

@media (prefers-color-scheme: dark) {
  .department-grid {
    background: none !important;
    box-shadow: none;
    border: none;
  }
}

/* Make Generate Scenario button light and vibrant */
.generate-btn {
  padding: 10px 24px !important;
  font-size: 1rem !important;
  border-radius: 12px !important;
  background: linear-gradient(120deg, #60a5fa 0%, #28d17c 100%) !important;
  color: #fff !important;
  font-weight: 600;
  box-shadow: 0 2px 8px rgba(40, 209, 124, 0.08);
  transition: background 0.18s, box-shadow 0.18s, transform 0.12s;
  margin: 0 auto;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  letter-spacing: 0.2px;
  border: none !important;
}
.generate-btn:disabled {
  background: #b7e4c7 !important;
  color: #e0e6ed !important;
  cursor: not-allowed;
  opacity: 0.7;
}
.generate-btn:hover:not(:disabled) {
  background: linear-gradient(120deg, #2563eb 0%, #1e874b 100%) !important;
  color: #fff !important;
  transform: translateY(-1px) scale(1.03);
  box-shadow: 0 4px 16px rgba(40, 209, 124, 0.13);
}

/* Back to Main Menu button styling */
.back-menu-btn {
  padding: 10px 22px;
  font-size: 1rem;
  border-radius: 8px;
  background: #2563eb;
  color: #fff;
  border: none;
  font-weight: 600;
  box-shadow: 0 2px 8px rgba(37,99,235,0.10);
  transition: background 0.18s, box-shadow 0.18s, transform 0.12s;
  cursor: pointer;
  display: inline-block;
}
.back-menu-btn:hover {
  background: #1e40af;
  color: #fff;
  transform: translateY(-1px) scale(1.03);
  box-shadow: 0 4px 16px rgba(37,99,235,0.18);
}

* {
  box-sizing: border-box;
}
body {
  font-family: 'Inter', sans-serif;
  margin: 0;
  padding: 20px;
  background: #f5f7fa;
  color: #333;
}

/* Dark mode styles: only active if user prefers dark mode */
@media (prefers-color-scheme: dark) {
  body {
    background: #181c23;
    color: #f3f6fa;
  }
  .header img {
    filter: brightness(0.85) contrast(1.1);
  }
  .title {
    color: #ffb4a2;
  }
  .scoreboard {
    background: none;
  }
  .department {
    background: #232a36;
    color: #ffe082;
  }
  .scenario-box,
  .question-box,
  .intro-box {
    background: #232a36;
    color: #f3f6fa;
    box-shadow: 0 0 16px rgba(0,0,0,0.45);
  }
  .choice-btn {
    background: #232a36;
    color: #f3f6fa;
    border: 1px solid #374151;
  }
  .choice-btn:hover {
    background: #2a3140;
    border-color: #4b5563;
  }
  .choice-btn.selected {
    background: #1e293b;
    border-color: #60a5fa;
  }
  .choice-btn.correct {
    background-color: #27ae60;
    color: #fff;
  }
  .choice-btn.incorrect {
    background-color: #c0392b;
    color: #fff;
  }
  .point-badge {
    background: #232a36;
    color: #ffe082;
    border: 1px solid #374151;
  }
  .point-badge.good { border-color: #27ae60; background: #1e293b; color: #27ae60; }
  .point-badge.ok   { border-color: #60a5fa; background: #1e293b; color: #60a5fa; }
  .point-badge.bad  { border-color: #c0392b; background: #1e293b; color: #ffb4a2; }
  .explain-box {
    background: #232a36;
    color: #f3f6fa;
  }
  .controls button {
    background: #27ae60;
    color: #fff;
  }
  .controls button:hover {
    background: #219150;
  }
  .winner-card {
    background: #181c23;
    color: #ffe082;
    border: 1px solid #232a36;
  }
  .winner-hero {
    background: linear-gradient(135deg, #232a36 0%, #181c22 100%);
  }
  .winner-pill {
    background: #232a36;
    color: #ffe082;
    border: 1px solid #374151;
  }
  .winner-pill .badge {
    background: #ffe082;
    color: #232a36;
  }
  .podium-card {
    background: #232a36;
    color: #ffe082;
    border: 1px solid #374151;
  }
  .podium-card.first {
    background: #ffb34733;
    border-color: #ffb347;
  }
  .podium-card.first .pts { color: #ffb347; }
  .podium-card.second .pts { color: #60a5fa; }
  .podium-card.third .pts { color: #ffb4a2; }
  .results-title {
    color: #ffe082;
  }
  .result-row {
    background: #232a36;
    border: 1px solid #374151;
  }
  .result-row.top {
    background: #ffb34733;
    border-color: #ffb347;
  }
  .rank {
    background: #232a36;
    color: #ffe082;
  }
  .result-row.top .rank {
    background: #ffb347;
    color: #232a36;
  }
  .dept-name {
    color: #ffe082;
  }
  .dept-sub {
    color: #ffe08299;
  }
  .result-score {
    color: #27ae60;
  }
  .winner-actions .primary {
    background: linear-gradient(135deg, #27ae60, #219150);
    color: #ffe082;
  }
  .winner-actions .secondary {
    background: #232a36;
    color: #ffe082;
    border: 1px solid #374151;
  }
  .uc-box {
    background: #232a36;
    border: 1px solid #ffe082;
    color: #ffe082;
  }
}

/* --- Enhanced Card Design --- */
.department {
  width: 120px;
  padding: 18px 10px;
  border-radius: 16px;
  text-align: center;
  color: #222;
  font-weight: 600;
  background: #fff;
  box-shadow: 0 2px 12px rgba(30,41,59,0.08);
  transition: box-shadow 0.2s, transform 0.2s;
  border: 1px solid #e0e6ed;
  cursor: pointer;
}
.department:hover {
  box-shadow: 0 6px 24px rgba(30,41,59,0.13);
  transform: translateY(-2px) scale(1.04);
  border-color: #60a5fa;
}

.scenario-box,
.question-box,
.intro-box {
  background: rgba(255,255,255,0.95);
  padding: 28px 24px;
  margin: 24px auto;
  border-radius: 18px;
  max-width: 820px;
  box-shadow: 0 8px 32px rgba(30,41,59,0.10);
  text-align: center;
  position: relative;
  border: 1px solid #e0e6ed;
  backdrop-filter: blur(2px);
}

.choice-btn {
  padding: 14px 18px;
  border: none;
  border-radius: 10px;
  cursor: pointer;
  font-size: 1.08rem;
  background: #f7f9fb;
  border: 1px solid #e0e6ed;
  transition: border-color 0.2s, background 0.2s, box-shadow 0.2s;
  text-align: left;
  display: -webkit-box;
  line-clamp: 2;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
  white-space: normal;
  box-shadow: 0 1px 4px rgba(30,41,59,0.04);
}
.choice-btn:hover {
  background: #eaf2fb;
  border-color: #60a5fa;
  box-shadow: 0 4px 16px rgba(30,41,59,0.10);
}

/* Department grid: evenly spaced, professional look */
#departmentGrid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  grid-template-rows: repeat(2, 1fr);
  gap: 8px 8px;
  margin-bottom: 0;
  justify-items: center;
  align-items: center;
  width: 100%;
  padding: 32px 0 0 0;
}
.department {
  width: 160px !important;
  height: 160px !important;
  width: 160px !important;
  height: 160px !important;
  min-width: 160px !important;
  min-height: 160px !important;
  max-width: 160px !important;
  max-height: 160px !important;
  aspect-ratio: 1 / 1 !important;
  display: flex !important;
  flex-direction: column !important;
  align-items: center !important;
  justify-content: center !important;
  background: #fff !important;
  border-radius: 18px !important;
  box-shadow: 0 2px 14px rgba(30,41,59,0.10) !important;
  font-weight: 600 !important;
  font-size: 1.08rem !important;
  color: #222 !important;
  border: 2.5px solid #e0e6ed !important;
  transition: box-shadow 0.2s, transform 0.2s !important;
  cursor: pointer !important;
  box-sizing: border-box !important;
  margin: 0 !important;
  padding: 0 !important;
  overflow: hidden !important;
  text-align: center !important;
  position: relative !important;
  vertical-align: middle !important;
.department:hover {
  box-shadow: 0 6px 24px rgba(30,41,59,0.13);
  transform: translateY(-2px) scale(1.04);
  border-color: #60a5fa;
  width: 48px !important;
  height: 48px !important;
  margin-bottom: 10px !important;
  display: block !important;
  margin-left: auto !important;
  margin-right: auto !important;
  flex-shrink: 0 !important;
}

/* Generate Scenario button: clean and centered */
.generate-section {
  display: flex;
  justify-content: center;
  align-items: center;
  margin: 450px 0 0 0;
  width: 100%;
  background: none !important;
  box-shadow: none !important;
  border-radius: 0 !important;
  padding: 0 !important;
  border: none !important;
  display: flex !important;
  justify-content: center !important;
  align-items: center !important;
  width: 100% !important;
  text-align: center !important;
  margin: 0 auto !important;
  flex-shrink: 0 !important;
  line-height: 1.2 !important;
  font-size: 1.08rem !important;
  padding: 0 !important;
  position: relative !important;
}
.generate-btn {
  padding: 12px 32px !important;
  font-size: 1.08rem !important;
  border-radius: 10px !important;
  background: linear-gradient(120deg, #60a5fa 0%, #28d17c 100%) !important;
  color: #fff !important;
  font-weight: 600;
  box-shadow: 0 2px 8px rgba(40, 209, 124, 0.10);
  transition: background 0.18s, box-shadow 0.18s, transform 0.12s;
  margin: 0 auto;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  letter-spacing: 0.2px;
  border: none !important;
}
.generate-btn:disabled {
  background: #b7e4c7 !important;
  color: #e0e6ed !important;
  cursor: not-allowed;
  opacity: 0.7;
}
.generate-btn:hover:not(:disabled) {
  background: linear-gradient(120deg, #2563eb 0%, #1e874b 100%) !important;
  color: #fff !important;
  transform: translateY(-1px) scale(1.03);
  box-shadow: 0 4px 16px rgba(40, 209, 124, 0.13);
}

@media (prefers-color-scheme: dark) {
  .generate-btn {
    background: #374151;
    color: #ffe082;
    box-shadow: 0 2px 8px rgba(55, 65, 81, 0.12);
  }
  .generate-btn:disabled {
    background: #232a36;
    color: #555;
  }
  .generate-btn:hover:not(:disabled) {
    background: #232a36;
    color: #fff;
    box-shadow: 0 4px 16px rgba(55, 65, 81, 0.18);
  }
}
.title {
  font-size: 2.5rem;
  font-weight: 700;
  color: #1e293b;
  margin-bottom: 0.5em;
  letter-spacing: 0.5px;
  text-align: center;
  font-family: inherit;
}
.scoreboard {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  margin-bottom: 20px;
  gap: 16px;
}
.department {
  width: 120px;
  padding: 18px 10px;
  border-radius: 16px;
  text-align: center;
  color: #222;
  font-weight: 600;
  background: #fff;
  box-shadow: 0 2px 12px rgba(30,41,59,0.08);
  transition: box-shadow 0.2s, transform 0.2s;
  border: 1px solid #e0e6ed;
  cursor: pointer;
}
.department:hover {
  box-shadow: 0 6px 24px rgba(30,41,59,0.13);
  transform: translateY(-2px) scale(1.04);
  border-color: #60a5fa;
}

.scenario-box,
.question-box,
.intro-box {
  background: rgba(255,255,255,0.95);
  padding: 28px 24px;
  margin: 24px auto;
  border-radius: 18px;
  max-width: 820px;
  box-shadow: 0 8px 32px rgba(30,41,59,0.10);
  text-align: center;
  position: relative;
  border: 1px solid #e0e6ed;
  backdrop-filter: blur(2px);
}

.choice-btn {
  padding: 14px 18px;
  border: none;
  border-radius: 10px;
  cursor: pointer;
  font-size: 1.08rem;
  background: #f7f9fb;
  border: 1px solid #e0e6ed;
  transition: border-color 0.2s, background 0.2s, box-shadow 0.2s;
  text-align: left;
  display: -webkit-box;
  line-clamp: 2;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
  white-space: normal;
  box-shadow: 0 1px 4px rgba(30,41,59,0.04);
}
.choice-btn:hover {
  background: #eaf2fb;
  border-color: #60a5fa;
  box-shadow: 0 4px 16px rgba(30,41,59,0.10);
}

.generate-btn {
  padding: 10px 24px !important;
  font-size: 1rem !important;
  border-radius: 12px !important;
  background: linear-gradient(120deg, #60a5fa 0%, #28d17c 100%) !important;
  color: #fff !important;
  font-weight: 600;
  box-shadow: 0 2px 8px rgba(40, 209, 124, 0.08);
  transition: background 0.18s, box-shadow 0.18s, transform 0.12s;
  margin: 0 auto;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  letter-spacing: 0.2px;
  border: none !important;
}
.generate-btn:disabled {
  background: #b7e4c7 !important;
  color: #e0e6ed !important;
  cursor: not-allowed;
  opacity: 0.7;
}
.generate-btn:hover:not(:disabled) {
  background: linear-gradient(120deg, #2563eb 0%, #1e874b 100%) !important;
  color: #fff !important;
  transform: translateY(-1px) scale(1.03);
  box-shadow: 0 4px 16px rgba(40, 209, 124, 0.13);
}

@media (prefers-color-scheme: dark) {
  .generate-btn {
    background: #374151;
    color: #ffe082;
    box-shadow: 0 2px 8px rgba(55, 65, 81, 0.12);
  }
  .generate-btn:disabled {
    background: #232a36;
    color: #555;
  }
  .generate-btn:hover:not(:disabled) {
    background: #232a36;
    color: #fff;
    box-shadow: 0 4px 16px rgba(55, 65, 81, 0.18);
  }
}
.title {
  font-size: 2.5rem;
  font-weight: 700;
  color: #1e293b;
  margin-bottom: 0.5em;
  letter-spacing: 0.5px;
  text-align: center;
  font-family: inherit;
}
.scoreboard {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  margin-bottom: 20px;
  gap: 16px;
}
.department {
  width: 120px;
  padding: 18px 10px;
  border-radius: 16px;
  text-align: center;
  color: #222;
  font-weight: 600;
  background: #fff;
  box-shadow: 0 2px 12px rgba(30,41,59,0.08);
  transition: box-shadow 0.2s, transform 0.2s;
  border: 1px solid #e0e6ed;
  cursor: pointer;
}
.department:hover {
  box-shadow: 0 6px 24px rgba(30,41,59,0.13);
  transform: translateY(-2px) scale(1.04);
  border-color: #60a5fa;
}

.scenario-box,
.question-box,
.intro-box {
  background: rgba(255,255,255,0.95);
  padding: 28px 24px;
  margin: 24px auto;
  border-radius: 18px;
  max-width: 820px;
  box-shadow: 0 8px 32px rgba(30,41,59,0.10);
  text-align: center;
  position: relative;
  border: 1px solid #e0e6ed;
  backdrop-filter: blur(2px);
}

.choice-btn {
  padding: 14px 18px;
  border: none;
  border-radius: 10px;
  cursor: pointer;
  font-size: 1.08rem;
  background: #f7f9fb;
  border: 1px solid #e0e6ed;
  transition: border-color 0.2s, background 0.2s, box-shadow 0.2s;
  text-align: left;
  display: -webkit-box;
  line-clamp: 2;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
  white-space: normal;
  box-shadow: 0 1px 4px rgba(30,41,59,0.04);
}
.choice-btn:hover {
  background: #eaf2fb;
  border-color: #60a5fa;
  box-shadow: 0 4px 16px rgba(30,41,59,0.10);
}

.generate-btn {
  padding: 10px 24px !important;
  font-size: 1rem !important;
  border-radius: 12px !important;
  background: linear-gradient(120deg, #60a5fa 0%, #28d17c 100%) !important;
  color: #fff !important;
  font-weight: 600;
  box-shadow: 0 2px 8px rgba(40, 209, 124, 0.08);
  transition: background 0.18s, box-shadow 0.18s, transform 0.12s;
  margin: 0 auto;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  letter-spacing: 0.2px;
  border: none !important;
}
.generate-btn:disabled {
  background: #b7e4c7 !important;
  color: #e0e6ed !important;
  cursor: not-allowed;
  opacity: 0.7;
}
.generate-btn:hover:not(:disabled) {
  background: linear-gradient(120deg, #2563eb 0%, #1e874b 100%) !important;
  color: #fff !important;
  transform: translateY(-1px) scale(1.03);
  box-shadow: 0 4px 16px rgba(40, 209, 124, 0.13);
}

@media (prefers-color-scheme: dark) {
  .generate-btn {
    background: #374151;
    color: #ffe082;
    box-shadow: 0 2px 8px rgba(55, 65, 81, 0.12);
  }
  .generate-btn:disabled {
    background: #232a36;
    color: #555;
  }
  .generate-btn:hover:not(:disabled) {
    background: #232a36;
    color: #fff;
    box-shadow: 0 4px 16px rgba(55, 65, 81, 0.18);
  }
}
.title {
  font-size: 2.5rem;
  font-weight: 700;
  color: #1e293b;
  margin-bottom: 0.5em;
  letter-spacing: 0.5px;
  text-align: center;
  font-family: inherit;
}
.scoreboard {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  margin-bottom: 20px;
  gap: 16px;
}
.department {
  width: 120px;
  padding: 18px 10px;
  border-radius: 16px;
  text-align: center;
  color: #222;
  font-weight: 600;
  background: #fff;
  box-shadow: 0 2px 12px rgba(30,41,59,0.08);
  transition: box-shadow 0.2s, transform 0.2s;
  border: 1px solid #e0e6ed;
  cursor: pointer;
}
.department:hover {
  box-shadow: 0 6px 24px rgba(30,41,59,0.13);
  transform: translateY(-2px) scale(1.04);
  border-color: #60a5fa;
}

.scenario-box,
.question-box,
.intro-box {
  background: rgba(255,255,255,0.95);
  padding: 28px 24px;
  margin: 24px auto;
  border-radius: 18px;
  max-width: 820px;
  box-shadow: 0 8px 32px rgba(30,41,59,0.10);
  text-align: center;
  position: relative;
  border: 1px solid #e0e6ed;
  backdrop-filter: blur(2px);
}

.choice-btn {
  padding: 14px 18px;
  border: none;
  border-radius: 10px;
  cursor: pointer;
  font-size: 1.08rem;
  background: #f7f9fb;
  border: 1px solid #e0e6ed;
  transition: border-color 0.2s, background 0.2s, box-shadow 0.2s;
  text-align: left;
  display: -webkit-box;
  line-clamp: 2;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
  white-space: normal;
  box-shadow: 0 1px 4px rgba(30,41,59,0.04);
}
.choice-btn:hover {
  background: #eaf2fb;
  border-color: #60a5fa;
  box-shadow: 0 4px 16px rgba(30,41,59,0.10);
}

.generate-btn {
  padding: 10px 24px !important;
  font-size: 1rem !important;
  border-radius: 12px !important;
  background: linear-gradient(120deg, #60a5fa 0%, #28d17c 100%) !important;
  color: #fff !important;
  font-weight: 600;
  box-shadow: 0 2px 8px rgba(40, 209, 124, 0.08);
  transition: background 0.18s, box-shadow 0.18s, transform 0.12s;
  margin: 0 auto;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  letter-spacing: 0.2px;
  border: none !important;
}
.generate-btn:disabled {
  background: #b7e4c7 !important;
  color: #e0e6ed !important;
  cursor: not-allowed;
  opacity: 0.7;
}
.generate-btn:hover:not(:disabled) {
  background: linear-gradient(120deg, #2563eb 0%, #1e874b 100%) !important;
  color: #fff !important;
  transform: translateY(-1px) scale(1.03);
  box-shadow: 0 4px 16px rgba(40, 209, 124, 0.13);
}

.controls {
  display: flex;
  justify-content: center;
  gap: 20px;
  margin-top: 32px;
  margin-bottom: 16px;
}

.winner-card {
  position: relative;
  z-index: 2;
  width: 100%;
  max-width: 820px;
  border-radius: 24px;
  background: rgba(255,255,255,0.98);
  color: #222;
  box-shadow: 0 16px 64px rgba(30,41,59,0.18);
  overflow: hidden;
  transform: translateY(8px);
  animation: popIn 420ms ease-out forwards;
  border: 1px solid #e0e6ed;
}

/* Make the Generate Scenario button smaller and visually balanced */
.generate-btn {
  padding: 10px 24px !important;
  font-size: 1rem !important;
  border-radius: 12px !important;
  background: linear-gradient(120deg, #60a5fa 0%, #28d17c 100%) !important;
  color: #fff !important;
  font-weight: 600;
  box-shadow: 0 2px 8px rgba(40, 209, 124, 0.08);
  transition: background 0.18s, box-shadow 0.18s, transform 0.12s;
  margin: 0 auto;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  letter-spacing: 0.2px;
  border: none !important;
}
.generate-btn:disabled {
  background: #b7e4c7 !important;
  color: #e0e6ed !important;
  cursor: not-allowed;
  opacity: 0.7;
}
.generate-btn:hover:not(:disabled) {
  background: linear-gradient(120deg, #2563eb 0%, #1e874b 100%) !important;
  color: #fff !important;
  transform: translateY(-1px) scale(1.03);
  box-shadow: 0 4px 16px rgba(40, 209, 124, 0.13);
}
@media (prefers-color-scheme: dark) {
  .generate-btn {
    background: #374151;
    color: #ffe082;
    box-shadow: 0 2px 8px rgba(55, 65, 81, 0.12);
  }
  .generate-btn:disabled {
    background: #232a36;
    color: #555;
  }
  .generate-btn:hover:not(:disabled) {
    background: #232a36;
    color: #fff;
    box-shadow: 0 4px 16px rgba(55, 65, 81, 0.18);
  }
}
.title {
  font-size: 2.5rem;
  font-weight: 700;
  color: #1e293b;
  margin-bottom: 0.5em;
  letter-spacing: 0.5px;
  text-align: center;
  font-family: inherit;
}
.scoreboard {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  margin-bottom: 20px;
  gap: 16px;
}
.department {
  width: 120px;
  padding: 18px 10px;
  border-radius: 16px;
  text-align: center;
  color: #222;
  font-weight: 600;
  background: #fff;
  box-shadow: 0 2px 12px rgba(30,41,59,0.08);
  transition: box-shadow 0.2s, transform 0.2s;
  border: 1px solid #e0e6ed;
  cursor: pointer;
}
.department:hover {
  box-shadow: 0 6px 24px rgba(30,41,59,0.13);
  transform: translateY(-2px) scale(1.04);
  border-color: #60a5fa;
}

.scenario-box,
.question-box,
.intro-box {
  background: rgba(255,255,255,0.95);
  padding: 28px 24px;
  margin: 24px auto;
  border-radius: 18px;
  max-width: 820px;
  box-shadow: 0 8px 32px rgba(30,41,59,0.10);
  text-align: center;
  position: relative;
  border: 1px solid #e0e6ed;
  backdrop-filter: blur(2px);
}

.choice-btn {
  padding: 14px 18px;
  border: none;
  border-radius: 10px;
  cursor: pointer;
  font-size: 1.08rem;
  background: #f7f9fb;
  border: 1px solid #e0e6ed;
  transition: border-color 0.2s, background 0.2s, box-shadow 0.2s;
  text-align: left;
  display: -webkit-box;
  line-clamp: 2;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
  white-space: normal;
  box-shadow: 0 1px 4px rgba(30,41,59,0.04);
}
.choice-btn:hover {
  background: #eaf2fb;
  border-color: #60a5fa;
  box-shadow: 0 4px 16px rgba(30,41,59,0.10);
}

.generate-btn {
  padding: 10px 24px !important;
  font-size: 1rem !important;
  border-radius: 12px !important;
  background: linear-gradient(120deg, #60a5fa 0%, #28d17c 100%) !important;
  color: #fff !important;
  font-weight: 600;
  box-shadow: 0 2px 8px rgba(40, 209, 124, 0.08);
  transition: background 0.18s, box-shadow 0.18s, transform 0.12s;
  margin: 0 auto;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  letter-spacing: 0.2px;
  border: none !important;
}
.generate-btn:disabled {
  background: #b7e4c7 !important;
  color: #e0e6ed !important;
  cursor: not-allowed;
  opacity: 0.7;
}
.generate-btn:hover:not(:disabled) {
  background: linear-gradient(120deg, #2563eb 0%, #1e874b 100%) !important;
  color: #fff !important;
  transform: translateY(-1px) scale(1.03);
  box-shadow: 0 4px 16px rgba(40, 209, 124, 0.13);
}

.controls {
  display: flex;
  justify-content: center;
  gap: 20px;
  margin-top: 32px;
  margin-bottom: 16px;
}

.winner-card {
  position: relative;
  z-index: 2;
  width: 100%;
  max-width: 820px;
  border-radius: 24px;
  background: rgba(255,255,255,0.98);
  color: #222;
  box-shadow: 0 16px 64px rgba(30,41,59,0.18);
  overflow: hidden;
  transform: translateY(8px);
  animation: popIn 420ms ease-out forwards;
  border: 1px solid #e0e6ed;
}

/* ===== Flashy Round Complete Overlay ===== */
.winner-overlay {
  position: absolute;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 26px;
  border-radius: 12px;
  background: radial-gradient(circle at 30% 20%, rgba(46,204,113,0.25), rgba(0,0,0,0.72) 55%),
              rgba(0,0,0,0.72);
  backdrop-filter: blur(8px);
  overflow: hidden;
  z-index: 3;
}

/* subtle animated light sweep */
.winner-overlay::before {
  content: "";
  position: absolute;
  inset: -40%;
  background: linear-gradient(120deg, transparent 35%, rgba(255,255,255,0.12) 50%, transparent 65%);
  transform: rotate(10deg);
  animation: sweep 4.5s linear infinite;
}

@keyframes sweep {
  0% { transform: translateX(-20%) rotate(10deg); opacity: 0.0; }
  10% { opacity: 1; }
  50% { opacity: 0.6; }
  100% { transform: translateX(20%) rotate(10deg); opacity: 0.0; }
}

.winner-card {
  position: relative;
  z-index: 2; /* ensure above confetti canvas */
  width: 100%;
  max-width: 820px;
  border-radius: 20px;
  background: #0b1220;
  color: #eef2ff;
  box-shadow: 0 40px 120px rgba(0,0,0,0.55);
  overflow: hidden;
  transform: translateY(8px);
  animation: popIn 420ms ease-out forwards;
  border: 1px solid rgba(255,255,255,0.08);
}

@keyframes popIn {
  from { transform: translateY(12px) scale(0.98); opacity: 0; }
  to { transform: translateY(0px) scale(1); opacity: 1; }
}

.winner-hero {
  padding: 26px 22px;
  background: radial-gradient(circle at 20% 20%, rgba(46,204,113,0.35), transparent 55%),
              linear-gradient(135deg, #1e874b 0%, #2ecc71 45%, #16a085 100%);
  text-align: center;
  position: relative;
}

.winner-hero h1 {
  margin: 0;
  font-size: 44px;
  letter-spacing: 0.4px;
  text-shadow: 0 10px 30px rgba(0,0,0,0.25);
}

.winner-hero p {
  margin: 10px 0 0;
  opacity: 0.95;
  font-size: 16px;
}

.trophy {
  font-size: 52px;
  line-height: 1;
  margin-bottom: 8px;
  display: inline-block;
  filter: drop-shadow(0 18px 30px rgba(0,0,0,0.25));
  animation: trophyPulse 1.6s ease-in-out infinite;
}

@keyframes trophyPulse {
  0%, 100% { transform: translateY(0) scale(1); }
  50% { transform: translateY(-2px) scale(1.04); }
}

.winner-body {
  padding: 18px 18px 22px;
  background: linear-gradient(180deg, rgba(255,255,255,0.04), rgba(255,255,255,0.02));
}

.winner-pill {
  display: inline-flex;
  align-items: center;
  gap: 10px;
  padding: 10px 14px;
  border-radius: 999px;
  background: rgba(255,255,255,0.08);
  border: 1px solid rgba(255,255,255,0.10);
  color: #fff;
  font-weight: 700;
  margin: 8px 0 18px;
}

.winner-pill .badge {
  width: 30px;
  height: 30px;
  border-radius: 999px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  background: #ffd43b;
  color: #1b1f2a;
  font-size: 14px;
  font-weight: 900;
  box-shadow: 0 10px 30px rgba(255,212,59,0.35);
}

/* Podium */
.podium {
  display: grid;
  grid-template-columns: 1fr 1.15fr 1fr;
  gap: 12px;
  margin: 10px 0 18px;
}

.podium-card {
  border-radius: 16px;
  padding: 14px 12px;
  background: rgba(255,255,255,0.06);
  border: 1px solid rgba(255,255,255,0.10);
  text-align: center;
}

.podium-card .place {
  font-weight: 900;
  letter-spacing: 0.3px;
  opacity: 0.95;
  margin-bottom: 6px;
}

.podium-card .dept {
  font-weight: 800;
  color: #fff;
}

.podium-card .pts {
  margin-top: 6px;
  font-weight: 900;
  color: #2ecc71;
}

.podium-card.first {
  background: rgba(255,212,59,0.18);
  border-color: rgba(255,212,59,0.35);
  transform: translateY(-6px);
}

.podium-card.first .pts { color: #ffd43b; }
.podium-card.second .pts { color: #a5b4fc; }
.podium-card.third .pts { color: #f4a261; }

/* Score list */
.results-title {
  text-align: left;
  font-weight: 800;
  margin: 12px 6px 10px;
  color: rgba(255,255,255,0.92);
}

.results-grid {
  display: grid;
  grid-template-columns: 1fr;
  gap: 10px;
}

.result-row {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  padding: 12px 12px;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,0.10);
  background: rgba(255,255,255,0.05);
}

.result-left {
  display: flex;
  align-items: center;
  gap: 10px;
  text-align: left;
}

.rank {
  width: 36px;
  height: 36px;
  border-radius: 12px;
  background: rgba(255,255,255,0.12);
  color: #fff;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  font-weight: 900;
}

.dept-name {
  font-weight: 800;
  color: #fff;
}

.dept-sub {
  font-size: 12px;
  color: rgba(255,255,255,0.65);
  margin-top: 2px;
}

.result-score {
  font-weight: 900;
  color: #2ecc71;
  font-size: 18px;
}

.result-row.top {
  border-color: rgba(255,212,59,0.30);
  background: rgba(255,212,59,0.12);
}

.result-row.top .rank {
  background: #ffd43b;
  color: #1b1f2a;
}

/* buttons */
.winner-actions {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  justify-content: center;
  margin-top: 18px;
}

.winner-actions button {
  padding: 12px 18px;
  border-radius: 12px;
  border: none;
  cursor: pointer;
  font-weight: 900;
  font-size: 15px;
  transition: transform 120ms ease, opacity 120ms ease;
}

.winner-actions button:hover { transform: translateY(-1px); }
.winner-actions button:active { transform: translateY(0px); opacity: 0.9; }

.winner-actions .primary {
  background: linear-gradient(135deg, #27ae60, #2ecc71);
  color: #082014;
  box-shadow: 0 16px 40px rgba(46,204,113,0.28);
}

.winner-actions .secondary {
  background: rgba(255,255,255,0.10);
  color: #fff;
  border: 1px solid rgba(255,255,255,0.12);
}

/* Confetti canvas sits above overlay */
.confetti-canvas {
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 1; /* keep below winner card */
}



/* Under construction message box */
.uc-box {
  background: #fffceb;
  border: 1px solid #f5e6a7;
  color: #6b5d15;
  border-radius: 12px;
  padding: 20px;
  max-width: 800px;
  margin: 0 auto;
}
.uc-box h3 { margin: 0 0 8px 0; }
.uc-box p { margin: 0; }

/* ===================== */
/*  DARK MODE SUPPORT    */
/* ===================== */
@media (prefers-color-scheme: dark) {
  body {
    background: #181c22;
    color: #e3e6eb;
  }
  .header img {
    filter: brightness(0.85) contrast(1.1);
  }
  .title {
    color: #ffb347;
  }
  .scoreboard {
    background: none;
  }
  .department {
    background: #232a36;
    color: #ffe082;
  }
  .scenario-box,
  .question-box,
  .intro-box {
    background: #232a36;
    color: #e3e6eb;
    box-shadow: 0 0 16px rgba(0,0,0,0.45);
  }
  .choice-btn {
    background: #232a36;
    color: #e3e6eb;
    border: 1px solid #374151;
  }
  .choice-btn:hover {
    background: #2a3140;
    border-color: #4b5563;
  }
  .choice-btn.selected {
    background: #1e293b;
    border-color: #60a5fa;
  }
  .choice-btn.correct {
    background-color: #27ae60;
    color: #fff;
  }
  .choice-btn.incorrect {
    background-color: #c0392b;
    color: #fff;
  }
  .point-badge {
    background: #232a36;
    color: #ffe082;
    border: 1px solid #374151;
  }
  .point-badge.good { border-color: #27ae60; background: #1e293b; color: #27ae60; }
  .point-badge.ok   { border-color: #60a5fa; background: #1e293b; color: #60a5fa; }
  .point-badge.bad  { border-color: #c0392b; background: #1e293b; color: #ffb4a2; }
  .explain-box {
    background: #232a36;
    color: #e3e6eb;
  }
  .controls button {
    background: #27ae60;
    color: #fff;
  }
  .controls button:hover {
    background: #219150;
  }
  .winner-card {
    background: #181c22;
    color: #ffe082;
    border: 1px solid #232a36;
  }
  .winner-hero {
    background: linear-gradient(135deg, #232a36 0%, #181c22 100%);
  }
  .winner-pill {
    background: #232a36;
    color: #ffe082;
    border: 1px solid #374151;
  }
  .winner-pill .badge {
    background: #ffe082;
    color: #232a36;
  }
  .podium-card {
    background: #232a36;
    color: #ffe082;
    border: 1px solid #374151;
  }
  .podium-card.first {
    background: #ffb34733;
    border-color: #ffb347;
  }
  .podium-card.first .pts { color: #ffb347; }
  .podium-card.second .pts { color: #60a5fa; }
  .podium-card.third .pts { color: #ffb4a2; }
  .results-title {
    color: #ffe082;
  }
  .result-row {
    background: #232a36;
    border: 1px solid #374151;
  }
  .result-row.top {
    background: #ffb34733;
    border-color: #ffb347;
  }
  .rank {
    background: #232a36;
    color: #ffe082;
  }
  .result-row.top .rank {
    background: #ffb347;
    color: #232a36;
  }
  .dept-name {
    color: #ffe082;
  }
  .dept-sub {
    color: #ffe08299;
  }
  .result-score {
    color: #27ae60;
  }
  .winner-actions .primary {
    background: linear-gradient(135deg, #27ae60, #219150);
    color: #ffe082;
  }
  .winner-actions .secondary {
    background: #232a36;
    color: #ffe082;
    border: 1px solid #374151;
  }
  .uc-box {
    background: #232a36;
    border: 1px solid #ffe082;
    color: #ffe082;
  }
}
